# EMIT Backend

Backend API для проекта EMIT на FastAPI + Tortoise ORM

## Для фронтендеров - Быстрый старт

### 1. Установка

```bash
cd back
make install
```

Это установит все зависимости из `pyproject.toml`.

### 2. Запуск сервера

**Режим разработки (с автоперезагрузкой):**
```bash
make dev
```

**Обычный запуск:**
```bash
make run
```

Сервер будет доступен на `http://localhost:8000`

### 3. Документация API

После запуска:
- **Swagger UI**: http://localhost:8000/docs
- **Документация для фронта**: `API.md`

### 4. Быстрый тест

```bash
curl http://localhost:8000/docs
```

Если видишь Swagger - всё работает!

---

## Команды Makefile

```bash
make install   # Установить зависимости
make run       # Запустить сервер (production режим)
make dev       # Запустить с автоперезагрузкой (dev режим)
make clean     # Очистить кеш и временные файлы
make help      # Показать все команды
```

---

## Структура проекта

```
back/
├── main.py              # Точка входа, FastAPI app
├── pyproject.toml       # Зависимости проекта
├── Makefile            # Команды для запуска
├── API.md              # Документация для фронтенда
└── src/
    ├── database.py     # Настройки БД
    ├── models.py       # ORM модели
    ├── users/          # Модуль пользователей
    ├── students/       # Модуль студентов
    ├── teams/          # Модуль команд
    ├── events/         # Модуль мероприятий
    └── scores/         # Модуль оценок
```

---

## Требования

- Python 3.12+
- pip

---

## Проблемы?

1. **Не запускается сервер**
   - Проверь что установлен Python 3.12+: `python --version`
   - Переустанови зависимости: `make clean && make install`

2. **Ошибка импорта**
   - Запускай команды из папки `back/`
   - Проверь что все зависимости установлены

3. **База данных**
   - БД создаётся автоматически (SQLite)
   - Файл: `db.sqlite3`

---

## Tech Stack

- **FastAPI** - веб-фреймворк
- **Tortoise ORM** - работа с БД
- **Pydantic** - валидация данных
- **JWT** - авторизация
- **SQLite** - база данных

---

Подробная документация API в файле `API.md`

